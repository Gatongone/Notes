# 关于.net的一些个人理解

## .net平台与java平台对应关系：
</br>

 \ |运行环境|提供各种大的类库|集成的开发工具|主要开发语言
-----|-----|-----|----|---
java|jvm|各种base library|jdk|java
.net|clr|bcl|.net framework sdk|C#

</br>

## .net和java跨平台对比
</br>

* C#之所以能跨平台是因为C#可以生成CIL代码，而CIL可以通过使用CLR被调用，因此它可以被支持调用.net的所有资料。本质上微软系列的语言都是翻译成CIL，再去调用系统API。

* java之所以能跨平台，是因为jvm的存在，Java编译生成的是非纯二进制的字节码而非其他语言(如C++编译生成的是纯二进制的机器指令)，这种字节码不依赖于特定的计算机硬件架构，所以只要有JVM平台上都能运行java。而jre是对jvm的解决方案，jre屏蔽了不同系统的差异。
  
</br>

## .net 运行过程
</br>

### .net 代码编译过程：
  * C#、VB等语言经过C#、VB等编译器编译后生成的程序集（.dll（类库）或.exe（可执行文件））, 程序集中则包含了CIL（公共中间语言，以前也叫MSIL）
  * CIL被CLR（公共语言运行时）翻译成本机代码（Native Code），过程为:
  	1. 检查程序集安全特性

  	2. 在内存中分配空间

  	3. 把程序集的可执行代码发给实时（Just-In-Time）编译器，其中一部分代码翻译成本机代码

  * 被JIT翻译的本机代码将在运行时由CLR进行管理，CLR提供了一个运行时的环境执行像内存管理、增强的安全性、GC、等任务，此时的由CLR管理的代码叫做托管代码（非托管代码：Win32C/C++ DLL等不在CLR控制下运行，而是直接由编译器生成本机代码）
  * 本机代码交由操作系统服务执行

( 从C#源文件到CIL是编译期、从CIL到本机代码执行是运行期 )

## BCL 和 FCL 类库

* ### BCL（Base Class Library，基类库）
  
 BCL类库包含的都是些最基本的CIL语言类型，BCL中的所有面向CIL的语言都能够使用它们。